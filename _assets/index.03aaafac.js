import{P as e,F as t,a as n,aO as r,L as o,k as s,aA as a,U as i,S as l,I as c,J as u,y as p,d8 as f,r as d,b as m,p as v,ak as h,f as y,Y as g,a9 as b,V as w,aa as x,K as z,bB as C,d9 as S,ai as $,i as k,o as _,j as T,w as O,s as j,l as B,Z as A,n as W,m as E,a0 as H,ax as I,aM as M,q as R,da as L,a5 as P,a6 as q,v as Y}from"./index.274f5b98.js";import{b as N,B as X}from"./index.3511c911.js";import{u as D}from"./useTimeout.7df9e591.js";import{a as U,r as K}from"./resizeEvent.5c6262c5.js";import{o as F,a as J}from"./domUtils.483282fc.js";import{g as V}from"./tsxHelper.5a75e637.js";import{r as Z}from"./animation.7413df24.js";import{C as G}from"./index.fd15899d.js";import{p as Q}from"./propTypes.3efdd02c.js";function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te={prefixCls:e.string,size:e.oneOfType([e.oneOf(t("large","small","default")),e.number]),shape:e.oneOf(t("circle","square"))},ne=e.shape(te).loose,re=n({props:r(te,{size:"large"}),render:function(){var e,t,n=this.$props,r=n.prefixCls,a=n.size,i=n.shape,l=o((ee(e={},"".concat(r,"-lg"),"large"===a),ee(e,"".concat(r,"-sm"),"small"===a),e)),c=o((ee(t={},"".concat(r,"-circle"),"circle"===i),ee(t,"".concat(r,"-square"),"square"===i),t)),u="number"==typeof a?{width:"".concat(a,"px"),height:"".concat(a,"px"),lineHeight:"".concat(a,"px")}:{};return s("span",{class:o(r,l,c),style:u},null)}}),oe={prefixCls:e.string,width:e.oneOfType([e.number,e.string])},se=e.shape(oe),ae=n({props:oe,render:function(){var e=this.$props,t=e.prefixCls,n=e.width,r="number"==typeof n?"".concat(n,"px"):n;return s("h3",{class:t,style:{width:r}},null)}});function ie(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce=e.oneOfType([e.number,e.string]),ue={prefixCls:e.string,width:e.oneOfType([ce,e.arrayOf(ce)]),rows:e.number},pe=e.shape(ue),fe=n({props:ue,methods:{getWidth:function(e){var t=this.width,n=this.rows,r=void 0===n?2:n;return Array.isArray(t)?t[e]:r-1===e?t:void 0}},render:function(){var e=this,t=this.$props,n=t.prefixCls,r=t.rows,o=ie(Array(r)).map((function(t,n){var r=e.getWidth(n);return s("li",{key:n,style:{width:"number"==typeof r?"".concat(r,"px"):r}},null)}));return s("ul",{class:n},[o])}});function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e){return e&&"object"===ve(e)?e:{}}var ye=a(n({name:"ASkeleton",props:l({active:e.looseBool,loading:e.looseBool,prefixCls:e.string,children:e.any,avatar:i(e.oneOfType([e.string,ne,e.looseBool])),title:i(e.oneOfType([e.looseBool,e.string,se])),paragraph:i(e.oneOfType([e.looseBool,e.string,pe]))},{avatar:!1,title:!0,paragraph:!0}),setup:function(){return{configProvider:c("configProvider",u)}},render:function(){var e,t,n=this.$props,r=n.prefixCls,a=n.loading,i=n.avatar,l=n.title,c=n.paragraph,u=n.active,f=(0,this.configProvider.getPrefixCls)("skeleton",r);if(a||!p(this,"loading")){var d,m,v,h=!!i||""===i,y=!!l,g=!!c;if(h){var b=me(me({prefixCls:"".concat(f,"-avatar")},function(e,t){return e&&!t?{shape:"square"}:{shape:"circle"}}(y,g)),he(i));m=s("div",{class:"".concat(f,"-header")},[s(re,b,null)])}if(y||g){var w,x;if(y){var z=me(me({prefixCls:"".concat(f,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(h,g)),he(l));w=s(ae,z,null)}if(g){var C=me(me({prefixCls:"".concat(f,"-paragraph")},function(e,t){var n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(h,y)),he(c));x=s(fe,C,null)}v=s("div",{class:"".concat(f,"-content")},[w,x])}var S=o(f,(de(d={},"".concat(f,"-with-avatar"),h),de(d,"".concat(f,"-active"),u),d));return s("div",{class:S},[m,v])}return null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e)}}));let ge;const be={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function we({move:e,size:t,bar:n}){const r={},o=`translate${n.axis}(${e}%)`;return r[n.size]=t,r.transform=o,r.msTransform=o,r.webkitTransform=o,r}var xe=n({name:"Bar",props:{vertical:{type:Boolean,default:!1},size:String,move:Number},setup(e){const t=d(null),n=d(null),r=m({}),o=v((()=>be[e.vertical?"vertical":"horizontal"])),s=c("scroll-bar-wrap");function a(e){const{ctrlKey:t,button:n,currentTarget:s}=e;if(t||2===n||!s)return;!function(e){e.stopImmediatePropagation(),r.cursorDown=!0,J(document,"mousemove",l),J(document,"mouseup",u),document.onselectstart=()=>!1}(e);const a=y(o);r[a.axis]=s[a.offset]-(e[a.client]-s.getBoundingClientRect()[a.direction])}function i(e){const r=y(o),a=Math.abs(e.target.getBoundingClientRect()[r.direction]-e[r.client]),i=y(t),l=y(s),c=y(n);if(!i||!c||!l)return;const u=100*(a-i[r.offset]/2)/c[r.offset];l[r.scroll]=u*l[r.scrollSize]/100}function l(e){if(!1===r.cursorDown)return;const a=y(o),i=r[a.axis],l=y(n),c=y(s),u=y(t);if(!(i&&l&&u&&c))return;const p=100*(-1*(l.getBoundingClientRect()[a.direction]-e[a.client])-(u[a.offset]-i))/l[a.offset];c[a.scroll]=p*c[a.scrollSize]/100}function u(){const e=y(o);r.cursorDown=!1,r[e.axis]=0,F(document,"mousemove",l),document.onselectstart=null}return h((()=>{F(document,"mouseup",u)})),()=>{const r=y(o),{size:s,move:l}=e;return g("div",{class:["scrollbar__bar","is-"+r.key],onMousedown:i,ref:n},g("div",{ref:t,class:"scrollbar__thumb",onMousedown:a,style:we({size:s,move:l,bar:r})}))}}}),ze=n({name:"Scrollbar",props:{native:Boolean,wrapStyle:{type:Object},wrapClass:{type:String,required:!1},viewClass:{type:String},viewStyle:{type:Object},noresize:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=d(null),r=d(null);z("scroll-bar-wrap",r);const o=m({sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0});function s(){const e=y(r);if(!e)return;const{scrollTop:t,scrollLeft:n,clientHeight:s,clientWidth:a}=e;o.moveY=100*t/s,o.moveX=100*n/a}function a(){const e=y(r);if(!e)return;const{scrollHeight:t,scrollWidth:n,clientHeight:s,clientWidth:a}=e,i=100*s/t,l=100*a/n;o.sizeHeight=i<100?i+"%":"",o.sizeWidth=l<100?l+"%":""}return b((()=>{C((e=>{e.wrap=y(r)}));const{native:t,noresize:o}=e,s=y(n),i=y(r);!t&&s&&i&&(w(a),o||(U(s,a),U(i,a)))})),h((()=>{const{native:t,noresize:o}=e,s=y(n),i=y(r);!t&&s&&i&&(o||(K(s,a),K(i,a)))})),()=>{const{native:a,tag:i,viewClass:l,viewStyle:c,wrapClass:u,wrapStyle:p}=e;let d=p;const m=function(){if(!f)return 0;if(void 0!==ge)return ge;const e=document.createElement("div");e.className="scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",e.appendChild(n);const r=n.offsetWidth,o=e.parentNode;return o&&o.removeChild(e),ge=t-r,ge}();if(m){const e=`-${m}px`,t=`margin-bottom: ${e}; margin-right: ${e};`;Array.isArray(p)?(d=function(e){const t={};for(let o=0;o<e.length;o++)e[o]&&(n=t,r=e[o],Object.assign(n,r));var n,r;return t}(p),d.marginRight=d.marginBottom=e):x(p)?d+=t:d=t}const v=g(i,{class:["scrollbar__view",l],style:c,ref:n},V(t)),h=g("div",{ref:r,style:d,onScroll:s,class:[u,"scrollbar__wrap",m?"":"scrollbar__wrap--hidden-default"]},[v]);let y=[];const{moveX:b,sizeWidth:w,moveY:z,sizeHeight:C}=o;return y=a?[g("div",{ref:"wrap",class:[u,"scrollbar__wrap"],style:d},[v])]:[h,g(xe,{move:b,size:w}),g(xe,{vertical:!0,move:z,size:C})],g("div",{class:"scrollbar"},y)}}});function Ce({el:e,to:t,duration:n=500,callback:r}){const o=d(!1),s=(e=>e.scrollTop)(e),a=t-s;let i=0;n=S(n)?500:n;const l=function(){if(!y(o))return;i+=20;const t=(c=i,u=s,p=a,(c/=n/2)<1?p/2*c*c+u:-p/2*(--c*(c-2)-1)+u);var c,u,p;((e,t)=>{e.scrollTop=t})(e,t),i<n&&y(o)?Z(l):r&&$(r)&&r()};return{start:()=>{o.value=!0,l()},stop:()=>{o.value=!1}}}var Se=n({name:"ScrollContainer",components:{Scrollbar:ze},setup(){const e=d(null);return{scrollbarRef:e,scrollTo:function(t,n=500){const r=y(e);r&&w((()=>{const{start:e}=Ce({el:y(r.$.wrap),to:t,duration:n});e()}))},scrollBottom:function(){const t=y(e);t&&w((()=>{const e=t.$.wrap.scrollHeight,{start:n}=Ce({el:y(t.$.wrap),to:e});n()}))},getScrollWrap:function(){const t=y(e);return t?t.$.wrap:null}}}});Se.render=function(e,t,n,r,o,s){const a=k("Scrollbar");return _(),T(a,{ref:"scrollbarRef",wrapClass:"scrollbar__wrap",viewClass:"scrollbar__view",class:"scroll-container"},{default:O((()=>[j(e.$slots,"default")])),_:3},512)};var $e=n({inheritAttrs:!1,components:{BasicArrow:N,BasicTitle:X}});const ke={class:"collapse-container__header"},_e={class:"collapse-container__action"};$e.render=function(e,t,n,r,o,a){const i=k("BasicTitle"),l=k("BasicArrow");return _(),T("div",ke,[s(i,{helpMessage:e.$attrs.helpMessage},{default:O((()=>[e.$attrs.title?(_(),T(A,{key:0},[W(E(e.$attrs.title),1)],64)):j(e.$slots,"title",{key:1})])),_:1},8,["helpMessage"]),s("div",_e,[j(e.$slots,"action"),e.$attrs.canExpan?(_(),T(l,{key:0,top:"",expand:e.$attrs.show,onClick:t[1]||(t[1]=t=>e.$emit("expand"))},null,8,["expand"])):B("",!0)])])};var Te=n({name:"LazyContainer",components:{Skeleton:ye},props:{timeout:Q.number,viewport:{type:"undefined"!=typeof window?window.HTMLElement:Object,default:()=>null},threshold:Q.string.def("0px"),direction:Q.oneOf(["vertical","horizontal"]).def("vertical"),tag:Q.string.def("div"),maxWaitingTime:Q.number.def(80),transitionName:Q.string.def("lazy-container")},emits:["init"],setup(e,{emit:t}){const n=d(null),r=m({isInit:!1,loading:!1,intersectionObserverInstance:null});function o(){r.loading=!0,D((()=>{r.isInit||(r.isInit=!0,t("init"))}),e.maxWaitingTime||80)}return b((()=>{!function(){const{timeout:t}=e;t&&D((()=>{o()}),t)}(),function(){const{timeout:t,direction:r,threshold:s}=e;if(t)return;let a="0px";switch(r){case"vertical":a=`${s} 0px`;break;case"horizontal":a=`0px ${s}`}try{const{stop:t,observer:r}=function({target:e,root:t,onIntersect:n,rootMargin:r="0px",threshold:o=.1}){let s=()=>{};const a=d(null),i=H((()=>{s(),a.value=new IntersectionObserver(n,{root:t?t.value:null,rootMargin:r,threshold:o});const i=e.value;i&&a.value.observe(i),s=()=>{a.value&&(a.value.disconnect(),e.value&&a.value.unobserve(e.value))}}));return{observer:a,stop:()=>{s(),i()}}}({rootMargin:a,target:I(n.value,"$el"),onIntersect:e=>{(e[0].isIntersecting||e[0].intersectionRatio)&&(o(),r&&t())},root:I(e,"viewport")})}catch(e){o()}}()})),{elRef:n,...M(r)}}});const Oe={key:"component"},je={key:"skeleton",name:"lazy-skeleton"};function Be(){const e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!0),e.eventType="message",window.dispatchEvent(e)}Te.render=function(e,t,n,r,o,s){const a=k("Skeleton");return _(),T(L,R({class:"lazy-container"},e.$attrs,{ref:"elRef",name:e.transitionName,tag:e.tag,mode:"out-in"}),{default:O((()=>[e.isInit?(_(),T("div",Oe,[j(e.$slots,"default",{loading:e.loading})])):(_(),T("div",je,[e.$slots.skeleton?j(e.$slots,"skeleton",{key:0}):(_(),T(a,{key:1}))]))])),_:1},16,["name","tag"])};var Ae=n({name:"CollapseContainer",components:{Skeleton:ye,LazyContainer:Te,CollapseHeader:$e,CollapseTransition:G},props:{title:Q.string.def(""),canExpan:Q.bool.def(!0),helpMessage:{type:[Array,String],default:""},triggerWindowResize:Q.bool,loading:Q.bool,lazy:Q.bool,lazyTime:Q.number.def(0)},setup(e){const t=d(!0);return{show:t,handleExpand:function(){t.value=!t.value,e.triggerWindowResize&&D(Be,200)}}}});const We={class:"collapse-container p-2"},Ee={key:1,class:"collapse-container__body"};Ae.render=function(e,t,n,r,o,a){const i=k("CollapseHeader"),l=k("Skeleton"),c=k("LazyContainer"),u=k("CollapseTransition");return _(),T("div",We,[s(i,R(e.$props,{show:e.show,onExpand:e.handleExpand}),{title:O((()=>[j(e.$slots,"title")])),_:1},16,["show","onExpand"]),s(u,{enable:e.canExpan},{default:O((()=>[e.loading?(_(),T(l,{key:0})):P((_(),T("div",Ee,[e.lazy?(_(),T(c,{key:0,timeout:e.lazyTime},{skeleton:O((()=>[j(e.$slots,"lazySkeleton")])),default:O((()=>[j(e.$slots,"default")])),_:3},8,["timeout"])):j(e.$slots,"default",{key:1})],512)),[[q,e.show]])])),_:1},8,["enable"])])};const He=Y(Se),Ie=Y(Ae),Me=Y(Te);export{Ie as C,Me as L,He as S,ye as a};