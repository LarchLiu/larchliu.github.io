let t=document.createElement("style");t.innerHTML=".virtual-scroll{position:relative;display:block;width:100%;max-width:100%;overflow:auto;flex:1 1 auto}.virtual-scroll__container{display:block}.virtual-scroll__item{position:absolute;right:0;left:0}.virtual-scroll-demo-wrap[data-v-0ff7a306]{display:flex;margin:0 30%;background:#fff;justify-content:center}.virtual-scroll-demo__item[data-v-0ff7a306]{height:40px;padding:0 20px;line-height:40px;border-bottom:1px solid #ddd}",document.head.appendChild(t);import{a as e,r as i,b as a,p as s,f as l,dh as r,a8 as o,a9 as n,V as d,Y as m,v as c,a3 as u,a4 as h,i as f,o as p,j as g,k as v,m as b,a7 as x,n as _}from"./index.e1c9b90a.js";import"./xlsx.a48e520c.js";import{D as H}from"./index.6a373dbd.js";import"./useDebounce.4b98f188.js";import{u as y}from"./useEventListener.bb1cfa76.js";import{g as w}from"./tsxHelper.48ee5a03.js";const S=c(e({name:"VirtualScroll",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},setup(t,{slots:e}){const c=i(null),u=a({first:0,last:0,scrollTop:0}),h=s((()=>parseInt(t.bench,10))),f=s((()=>parseInt(t.itemHeight,10))),p=s((()=>Math.max(0,u.first-l(h)))),g=s((()=>Math.min((t.items||[]).length,u.last+l(h)))),v=s((()=>({height:r((t.items||[]).length*l(f))}))),b=s((()=>{const e={},i=r(t.height),a=r(t.minHeight),s=r(t.minWidth),l=r(t.maxHeight),o=r(t.maxWidth),n=r(t.width);return i&&(e.height=i),a&&(e.minHeight=a),s&&(e.minWidth=s),l&&(e.maxHeight=l),o&&(e.maxWidth=o),n&&(e.width=n),e}));function x(e){const i=l(c);if(!i)return 0;const a=parseInt(t.height||0,10)||i.clientHeight;return e+Math.ceil(a/l(f))}function _(){const t=l(c);t&&(u.scrollTop=t.scrollTop,u.first=Math.floor(u.scrollTop/l(f)),u.last=x(u.first))}function H(t,i){i+=l(p);const a=r(i*l(f));return m("div",{class:"virtual-scroll__item",style:{top:a},key:i},w(e,"default",{index:i,item:t}))}return o([()=>t.itemHeight,()=>t.height],(()=>{_()})),n((()=>{u.last=x(0),d((()=>{const t=l(c);t&&y({el:t,name:"scroll",listener:_,wait:0})}))})),()=>m("div",{class:"virtual-scroll",style:l(b),ref:c},m("div",{class:"virtual-scroll__container",style:l(v)},function(){const{items:e=[]}=t;return e.slice(l(p),l(g)).map(H)}()))}})),j=(()=>{const t=[];for(let e=1;e<2e4;e++)t.push({title:"列表项"+e});return t})();var N=e({components:{VirtualScroll:S,Divider:H},setup:()=>({data:j})});const W=x("data-v-0ff7a306");u("data-v-0ff7a306");const k={class:"p-4 virtual-scroll-demo"},M=_("基础滚动示例"),T={class:"virtual-scroll-demo-wrap"},D={class:"virtual-scroll-demo__item"},I=_("即使不可见，也预先加载50条数据，防止空白"),V={class:"virtual-scroll-demo-wrap"},E={class:"virtual-scroll-demo__item"};h();const L=W(((t,e,i,a,s,l)=>{const r=f("Divider"),o=f("VirtualScroll");return p(),g("div",k,[v(r,null,{default:W((()=>[M])),_:1}),v("div",T,[v(o,{itemHeight:41,items:t.data,height:300,width:300},{default:W((({item:t})=>[v("div",D,b(t.title),1)])),_:1},8,["items"])]),v(r,null,{default:W((()=>[I])),_:1}),v("div",V,[v(o,{itemHeight:41,items:t.data,height:300,width:300,bench:50},{default:W((({item:t})=>[v("div",E,b(t.title),1)])),_:1},8,["items"])])])}));N.render=L,N.__scopeId="data-v-0ff7a306";export default N;