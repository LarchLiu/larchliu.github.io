import{P as t,a as e,x as n,S as o,V as r,al as s,cO as i,E as a,L as l,k as c,R as h,cP as u,aA as d,F as p,I as f,J as m,K as y,A as v,bM as b,z as g,ap as w,u as C,r as O,p as D,a0 as T,a8 as k,bB as P,Y as x,Z as E,f as S,bk as j,bC as B,t as $,cd as L,ai as N,B as F,cg as M,ck as H,b as I,aq as A,bE as _,bD as R,au as V,v as W}from"./index.ef96accc.js";import{B as X}from"./index.e6f13207.js";import{L as z}from"./LeftOutlined.0e6572e6.js";import{g as U}from"./tsxHelper.138eeb19.js";import{p as Y}from"./propTypes.d7f54775.js";function K(){return(K=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}var q={width:t.any,height:t.any,defaultOpen:t.looseBool,firstEnter:t.looseBool,open:t.looseBool,prefixCls:t.string,placement:t.string,level:t.oneOfType([t.string,t.array]),levelMove:t.oneOfType([t.number,t.func,t.array]),ease:t.string,duration:t.string,handler:t.any,showMask:t.looseBool,maskStyle:t.object,className:t.string,wrapStyle:t.object,maskClosable:t.looseBool,afterVisibleChange:t.func,keyboard:t.looseBool},Z=K(K({},q),{wrapperClassName:t.string,forceRender:t.looseBool,getContainer:t.oneOfType([t.string,t.func,t.object,t.looseBool])});K(K({},q),{getContainer:t.func,getOpenCount:t.func,switchScrollingEffect:t.func});var G={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},J=Object.keys(G).filter((function(t){if("undefined"==typeof document)return!1;var e=document.getElementsByTagName("html")[0];return t in(e?e.style:{})}))[0],Q=G[J];function tt(t,e,n,o){t.addEventListener?t.addEventListener(e,n,o):t.attachEvent&&t.attachEvent("on".concat(e),n)}function et(t,e,n,o){t.removeEventListener?t.removeEventListener(e,n,o):t.attachEvent&&t.detachEvent("on".concat(e),n)}var nt=function(t){return!isNaN(parseFloat(t))&&isFinite(t)};function ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(n),!0).forEach((function(e){st(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(){return(at=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function lt(){}var ct={},ht=!("undefined"!=typeof window&&window.document&&window.document.createElement),ut=e({name:"Drawer",mixins:[n],inheritAttrs:!1,props:o(Z,{prefixCls:"drawer",placement:"left",getContainer:"body",level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",firstEnter:!1,showMask:!0,handler:!0,maskStyle:{},wrapperClassName:""}),data:function(){this.levelDom=[],this.contentDom=null,this.maskDom=null,this.handlerdom=null,this.mousePos=null,this.sFirstEnter=this.firstEnter,this.timeout=null,this.children=null,this.drawerId=Number((Date.now()+Math.random()).toString().replace(".",Math.round(9*Math.random()))).toString(16);var t=void 0!==this.open?this.open:!!this.defaultOpen;return ct[this.drawerId]=t,this.orignalOpen=this.open,this.preProps=at({},this.$props),{sOpen:t,isOpenChange:void 0,passive:void 0,container:void 0}},watch:{open:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=this;void 0!==t&&t!==this.preProps.open&&(this.isOpenChange=!0,this.container||this.getDefault(this.$props),this.setState({sOpen:open})),this.preProps.open=t,t&&r((function(){e.domFocus()}))})),placement:function(t){t!==this.preProps.placement&&(this.contentDom=null),this.preProps.placement=t},level:function(t){this.preProps.level!==t&&this.getParentAndLevelDom(this.$props),this.preProps.level=t}},mounted:function(){var t=this;r((function(){if(!ht){var e=!1;window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return e=!0,null}})),t.passive=!!e&&{passive:!1}}var n=t.getOpen();(t.handler||n||t.sFirstEnter)&&(t.getDefault(t.$props),n&&(t.isOpenChange=!0,r((function(){t.domFocus()}))),t.$forceUpdate())}))},updated:function(){var t=this;r((function(){!t.sFirstEnter&&t.container&&(t.$forceUpdate(),t.sFirstEnter=!0)}))},beforeUnmount:function(){delete ct[this.drawerId],delete this.isOpenChange,this.container&&(this.sOpen&&this.setLevelDomTransform(!1,!0),document.body.style.overflow=""),this.sFirstEnter=!1,clearTimeout(this.timeout)},methods:{domFocus:function(){this.dom&&this.dom.focus()},onKeyDown:function(t){t.keyCode===s.ESC&&(t.stopPropagation(),this.__emit("close",t))},onMaskTouchEnd:function(t){this.__emit("close",t),this.onTouchEnd(t,!0)},onIconTouchEnd:function(t){this.__emit("handleClick",t),this.onTouchEnd(t)},onTouchEnd:function(t,e){if(void 0===this.open){var n=e||this.sOpen;this.isOpenChange=!0,this.setState({sOpen:!n})}},onWrapperTransitionEnd:function(t){if(t.target===this.contentWrapper&&t.propertyName.match(/transform$/)){var e=this.getOpen();this.dom.style.transition="",!e&&this.getCurrentDrawerSome()&&(document.body.style.overflowX="",this.maskDom&&(this.maskDom.style.left="",this.maskDom.style.width="")),this.afterVisibleChange&&this.afterVisibleChange(!!e)}},getDefault:function(t){this.getParentAndLevelDom(t),(t.getContainer||t.parent)&&(this.container=this.defaultGetContainer())},getCurrentDrawerSome:function(){return!Object.keys(ct).some((function(t){return ct[t]}))},getSelfContainer:function(){return this.container},getParentAndLevelDom:function(t){var e=this;if(!ht){var n,o=t.level,r=t.getContainer;if(this.levelDom=[],r){if("string"==typeof r){var s=document.querySelectorAll(r)[0];this.parent=s}"function"==typeof r&&(this.parent=r()),"object"===it(r)&&r instanceof window.HTMLElement&&(this.parent=r)}if(!r&&this.container&&(this.parent=this.container.parentNode),"all"===o)Array.prototype.slice.call(this.parent.children).forEach((function(t){"SCRIPT"!==t.nodeName&&"STYLE"!==t.nodeName&&"LINK"!==t.nodeName&&t!==e.container&&e.levelDom.push(t)}));else o&&(n=o,Array.isArray(n)?n:[n]).forEach((function(t){document.querySelectorAll(t).forEach((function(t){e.levelDom.push(t)}))}))}},setLevelDomTransform:function(t,e,n,o){var r=this,s=this.$props,a=s.placement,l=s.levelMove,c=s.duration,h=s.ease,u=s.getContainer;if(!ht&&(this.levelDom.forEach((function(s){if(r.isOpenChange||e){s.style.transition="transform ".concat(c," ").concat(h),tt(s,Q,r.trnasitionEnd);var i=t?o:0;if(l){var u=(m={target:s,open:t},y="function"==typeof(f=l)?f(m):f,Array.isArray(y)?2===y.length?y:[y[0],y[1]]:[y]);i=t?u[0]:u[1]||0}var d="number"==typeof i?"".concat(i,"px"):i,p="left"===a||"top"===a?d:"-".concat(d);s.style.transform=i?"".concat(n,"(").concat(p,")"):"",s.style.msTransform=i?"".concat(n,"(").concat(p,")"):""}var f,m,y})),"body"===u)){var d=["touchstart"],p=[document.body,this.maskDom,this.handlerdom,this.contentDom],f=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth?i(1):0,m="width ".concat(c," ").concat(h),y="transform ".concat(c," ").concat(h);if(t&&"hidden"!==document.body.style.overflow){if(document.body.style.overflow="hidden",f){switch(document.body.style.position="relative",document.body.style.width="calc(100% - ".concat(f,"px)"),this.dom.style.transition="none",a){case"right":this.dom.style.transform="translateX(-".concat(f,"px)"),this.dom.style.msTransform="translateX(-".concat(f,"px)");break;case"top":case"bottom":this.dom.style.width="calc(100% - ".concat(f,"px)"),this.dom.style.transform="translateZ(0)"}clearTimeout(this.timeout),this.timeout=setTimeout((function(){r.dom.style.transition="".concat(y,",").concat(m),r.dom.style.width="",r.dom.style.transform="",r.dom.style.msTransform=""}))}p.forEach((function(t,e){t&&tt(t,d[e]||"touchmove",e?r.removeMoveHandler:r.removeStartHandler,r.passive)}))}else if(this.getCurrentDrawerSome()){if(document.body.style.overflow="",(this.isOpenChange||e)&&f){var v;switch(document.body.style.position="",document.body.style.width="",J&&(document.body.style.overflowX="hidden"),this.dom.style.transition="none",a){case"right":this.dom.style.transform="translateX(".concat(f,"px)"),this.dom.style.msTransform="translateX(".concat(f,"px)"),this.dom.style.width="100%",m="width 0s ".concat(h," ").concat(c),this.maskDom&&(this.maskDom.style.left="-".concat(f,"px"),this.maskDom.style.width="calc(100% + ".concat(f,"px)"));break;case"top":case"bottom":this.dom.style.width="calc(100% + ".concat(f,"px)"),this.dom.style.height="100%",this.dom.style.transform="translateZ(0)",v="height 0s ".concat(h," ").concat(c)}clearTimeout(this.timeout),this.timeout=setTimeout((function(){r.dom.style.transition="".concat(y,",").concat(v?"".concat(v,","):"").concat(m),r.dom.style.transform="",r.dom.style.msTransform="",r.dom.style.width="",r.dom.style.height=""}))}p.forEach((function(t,e){t&&et(t,d[e]||"touchmove",e?r.removeMoveHandler:r.removeStartHandler,r.passive)}))}}var b=this.$attrs.onChange;b&&this.isOpenChange&&this.sFirstEnter&&(b(t),this.isOpenChange=!1)},getChildToRender:function(t){var e,n,o=this,r=this.$props,s=r.prefixCls,i=r.placement,u=r.handler,d=r.showMask,p=r.maskStyle,f=r.width,m=r.height,y=r.wrapStyle,v=r.keyboard,b=r.maskClosable,g=this.$attrs,w=g.class,C=g.style,O=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(g,["class","style"]),D=a(this),T=l(s,(st(e={},"".concat(s,"-").concat(i),!0),st(e,"".concat(s,"-open"),t),st(e,"no-mask",!d),st(e,w,w),e)),k=this.isOpenChange,P="left"===i||"right"===i,x="translate".concat(P?"X":"Y"),E="left"===i||"top"===i?"-100%":"100%",S=t?"":"".concat(x,"(").concat(E,")");if(void 0===k||k){var j=this.contentDom?this.contentDom.getBoundingClientRect()[P?"width":"height"]:0,B=(P?f:m)||j;this.setLevelDomTransform(t,!1,x,B)}if(!1!==u){var $=c("div",{class:"drawer-handle",onClick:function(){}},[c("i",{class:"drawer-handle-icon"},null)]),L=this.handler||$,N=L.props&&L.props.onClick;n=h(L,{onClick:function(t){N&&N(),o.onIconTouchEnd(t)},ref:function(t){o.handlerdom=t}})}var F=at(at({},O),{class:T,onTransitionend:this.onWrapperTransitionEnd,onKeydown:t&&v?this.onKeyDown:lt,style:at(at({},y),C)});return c("div",rt(rt({ref:function(t){o.dom=t}},F),{},{tabindex:-1}),[d&&c("div",{key:t,class:"".concat(s,"-mask"),onClick:b?this.onMaskTouchEnd:lt,style:p,ref:function(t){o.maskDom=t}},null),c("div",{class:"".concat(s,"-content-wrapper"),style:{transform:S,msTransform:S,width:nt(f)?"".concat(f,"px"):f,height:nt(m)?"".concat(m,"px"):m},ref:function(t){o.contentWrapper=t}},[c("div",{class:"".concat(s,"-content"),ref:function(t){o.contentDom=t},onTouchstart:t?this.removeStartHandler:lt,onTouchmove:t?this.removeMoveHandler:lt},[D]),n])])},getOpen:function(){return void 0!==this.open?this.open:this.sOpen},getTouchParentScroll:function(t,e,n,o){if(!e||e===document)return!1;if(e===t.parentNode)return!0;var r=Math.max(Math.abs(n),Math.abs(o))===Math.abs(o),s=Math.max(Math.abs(n),Math.abs(o))===Math.abs(n),i=e.scrollHeight-e.clientHeight,a=e.scrollWidth-e.clientWidth,l=e.scrollTop,c=e.scrollLeft;e.scrollTo&&e.scrollTo(e.scrollLeft+1,e.scrollTop+1);var h=e.scrollTop,u=e.scrollLeft;return e.scrollTo&&e.scrollTo(e.scrollLeft-1,e.scrollTop-1),!((!r||i&&h-l&&(!i||!(e.scrollTop>=i&&o<0||e.scrollTop<=0&&o>0)))&&(!s||a&&u-c&&(!a||!(e.scrollLeft>=a&&n<0||e.scrollLeft<=0&&n>0))))&&this.getTouchParentScroll(t,e.parentNode,n,o)},removeStartHandler:function(t){t.touches.length>1||(this.startPos={x:t.touches[0].clientX,y:t.touches[0].clientY})},removeMoveHandler:function(t){if(!(t.changedTouches.length>1)){var e=t.currentTarget,n=t.changedTouches[0].clientX-this.startPos.x,o=t.changedTouches[0].clientY-this.startPos.y;(e===this.maskDom||e===this.handlerdom||e===this.contentDom&&this.getTouchParentScroll(e,t.target,n,o))&&t.preventDefault()}},trnasitionEnd:function(t){et(t.target,Q,this.trnasitionEnd),t.target.style.transition=""},defaultGetContainer:function(){if(ht)return null;var t=document.createElement("div");return this.parent.appendChild(t),this.wrapperClassName&&(t.className=this.wrapperClassName),t}},render:function(){var t=this,e=this.$props,n=e.getContainer,o=e.wrapperClassName,r=e.handler,s=e.forceRender,i=this.getOpen(),a=null;ct[this.drawerId]=i?this.container:i;var l=this.getChildToRender(!!this.sFirstEnter&&i);return n?this.container&&(i||this.sFirstEnter)?((!!r||s||i||this.dom)&&(a=c(u,{to:this.getSelfContainer()},{default:function(){return[l]}})),a):null:c("div",{class:o,ref:function(e){t.container=e}},[l])}});function dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pt(){return(pt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}var ft=p("top","right","bottom","left"),mt=d(e({name:"ADrawer",mixins:[n],inheritAttrs:!1,props:{closable:t.looseBool.def(!0),destroyOnClose:t.looseBool,getContainer:t.any,maskClosable:t.looseBool.def(!0),mask:t.looseBool.def(!0),maskStyle:t.object,wrapStyle:t.object,bodyStyle:t.object,headerStyle:t.object,drawerStyle:t.object,title:t.VNodeChild,visible:t.looseBool,width:t.oneOfType([t.string,t.number]).def(256),height:t.oneOfType([t.string,t.number]).def(256),zIndex:t.number,prefixCls:t.string,placement:t.oneOf(ft).def("right"),level:t.any.def(null),wrapClassName:t.string,handle:t.VNodeChild,afterVisibleChange:t.func,keyboard:t.looseBool.def(!0),onClose:t.func,"onUpdate:visible":t.func},setup:function(t){return{configProvider:f("configProvider",m),destroyClose:!1,preVisible:t.visible,parentDrawer:f("parentDrawer",null)}},data:function(){return{sPush:!1}},beforeCreate:function(){y("parentDrawer",this)},mounted:function(){this.visible&&this.parentDrawer&&this.parentDrawer.push()},updated:function(){var t=this;r((function(){t.preVisible!==t.visible&&t.parentDrawer&&(t.visible?t.parentDrawer.push():t.parentDrawer.pull()),t.preVisible=t.visible}))},beforeUnmount:function(){this.parentDrawer&&this.parentDrawer.pull()},methods:{domFocus:function(){this.$refs.vcDrawer&&this.$refs.vcDrawer.domFocus()},close:function(t){this.$emit("update:visible",!1),this.$emit("close",t)},push:function(){this.setState({sPush:!0})},pull:function(){var t=this;this.setState({sPush:!1},(function(){t.domFocus()}))},onDestroyTransitionEnd:function(){this.getDestroyOnClose()&&(this.visible||(this.destroyClose=!0,this.$forceUpdate()))},getDestroyOnClose:function(){return this.destroyOnClose&&!this.visible},getPushTransform:function(t){return"left"===t||"right"===t?"translateX(".concat("left"===t?180:-180,"px)"):"top"===t||"bottom"===t?"translateY(".concat("top"===t?180:-180,"px)"):void 0},getRcDrawerStyle:function(){var t=this.$props,e=t.zIndex,n=t.placement,o=t.wrapStyle;return pt({zIndex:e,transform:this.$data.sPush?this.getPushTransform(n):void 0},o)},renderHeader:function(t){var e=this.$props,n=e.closable,o=e.headerStyle,r=v(this,"title");if(!r&&!n)return null;var s="".concat(t,r?"-header":"-header-no-title");return c("div",{class:s,style:o},[r&&c("div",{class:"".concat(t,"-title")},[r]),n?this.renderCloseIcon(t):null])},renderCloseIcon:function(t){return this.closable&&c("button",{key:"closer",onClick:this.close,"aria-label":"Close",class:"".concat(t,"-close")},[c(b,null,null)])},renderBody:function(t){var e,n;if(this.destroyClose&&!this.visible)return null;this.destroyClose=!1;var o=this.$props,r=o.bodyStyle,s=o.drawerStyle,i={};return this.getDestroyOnClose()&&(i.opacity=0,i.transition="opacity .3s"),c("div",{class:"".concat(t,"-wrapper-body"),style:pt(pt({},i),s),onTransitionend:this.onDestroyTransitionEnd},[this.renderHeader(t),c("div",{key:"body",class:"".concat(t,"-body"),style:r},[null===(n=(e=this.$slots).default)||void 0===n?void 0:n.call(e)])])}},render:function(){var t,e=this,n=g(this),o=n.prefixCls,r=n.width,s=n.height,i=n.visible,a=n.placement,h=n.wrapClassName,u=n.mask,d=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(n,["prefixCls","width","height","visible","placement","wrapClassName","mask"]),p=u?"":"no-mask",f={};"left"===a||"right"===a?f.width="number"==typeof r?"".concat(r,"px"):r:f.height="number"==typeof s?"".concat(s,"px"):s;var m=v(this,"handle")||!1,y=(0,this.configProvider.getPrefixCls)("drawer",o),b=this.$attrs.class,C=pt(pt(pt(pt(pt({},this.$attrs),w(d,["closable","destroyOnClose","drawerStyle","headerStyle","bodyStyle","title","push","visible","getPopupContainer","rootPrefixCls","getPrefixCls","renderEmpty","csp","pageHeader","autoInsertSpaceInButton"])),{onClose:this.close,handler:m}),f),{prefixCls:y,open:i,showMask:u,placement:a,class:l((t={},dt(t,b,!!b),dt(t,h,!!h),dt(t,p,!!p),t)),wrapStyle:this.getRcDrawerStyle(),ref:"vcDrawer"});return c(ut,C,{default:function(){return[e.renderBody(y)]}})}}));const{t:yt}=C(),vt={confirmLoading:Y.bool,showCancelBtn:Y.bool.def(!0),cancelButtonProps:Object,cancelText:Y.string.def(yt("component.drawer.cancelText")),showOkBtn:Y.bool.def(!0),okButtonProps:Y.any,okText:Y.string.def(yt("component.drawer.okText")),okType:Y.string.def("primary"),showFooter:Y.bool,footerHeight:{type:[String,Number],default:60}},bt={isDetail:Y.bool,title:Y.string.def(""),showDetailBack:Y.bool.def(!0),visible:Y.bool,loading:Y.bool,maskClosable:Y.bool.def(!0),getContainer:{type:[Object,String]},scrollOptions:{type:Object,default:null},closeFunc:{type:[Function,Object],default:null},triggerWindowResize:Y.bool,destroyOnClose:Y.bool,...vt};var gt=e({inheritAttrs:!1,props:bt,emits:["visible-change","ok","close","register"],setup(t,{slots:e,emit:n,attrs:o}){const s=O(null),i=O(!1),a=O(null),{t:l}=C(),c=D((()=>B($(t),S(a)))),h=D((()=>{const t={placement:"right",...o,...S(c),visible:S(i)};t.title=void 0;const{isDetail:e,width:n,wrapClassName:r,getContainer:s}=t;if(e){n||(t.width="100%");const e="basic-drawer__detail";t.wrapClassName=r?`${r} ${e}`:e,s||(t.getContainer=".layout-content")}return t})),u=D((()=>({...o,...S(h)}))),d=D((()=>{const{footerHeight:t,showFooter:e}=S(h);return e&&t?L(t)?`${t}px`:`${t.replace("px","")}px`:"0px"})),p=D((()=>({position:"relative",height:`calc(100% - ${S(d)})`,overflow:"auto",padding:"16px",paddingBottom:"30px"}))),f=D((()=>{var t;return!!(null==(t=S(h))?void 0:t.loading)}));async function m(t){const{closeFunc:e}=S(h);if(n("close",t),e&&N(e)){const t=await e();i.value=!t}else i.value=!1}T((()=>{i.value=t.visible})),k((()=>i.value),(t=>{r((()=>{n("visible-change",t)}))}),{immediate:!1});const y={setDrawerProps:function(t){a.value=B(S(a)||{},t),Reflect.has(t,"visible")&&(i.value=!!t.visible)}};return P((t=>{n("register",y,t.uid)})),()=>x(mt,{class:"basic-drawer",onClose:m,...S(u)},{title:()=>function(){if(null==e?void 0:e.title)return U(e,"title");const{title:n}=S(c);return t.isDetail?x(H,{type:"flex",align:"middle",class:"basic-drawer__detail-header"},(()=>x(E,null,t.showDetailBack&&x(F,{size:"small",type:"link",onClick:m},(()=>x(z,null))),n&&x(M,{style:"flex:1",class:["basic-drawer__detail-title","ellipsis","px-2"]},(()=>n)),U(e,"titleToolbar")))):x(X,null,(()=>n||U(e,"title")))}(),default:()=>x(E,null,x("div",{ref:s,style:S(p)},x(j,{absolute:!0,tip:l("component.drawer.loadingText"),loading:S(f)}),U(e)),function(){if(null==e?void 0:e.footer)return U(e,"footer");const{showCancelBtn:t,cancelButtonProps:o,cancelText:r,showOkBtn:s,okType:i,okText:a,okButtonProps:l,confirmLoading:c,showFooter:u}=S(h);return u?x("div",{class:"basic-drawer__footer"},U(e,"insertFooter"),t&&x(F,{...o,onClick:m,class:"mr-2"},(()=>r)),U(e,"centerFooter"),s&&x(F,{type:i,onClick:()=>{n("ok")},...l,loading:c},(()=>a)),U(e,"appendFooter")):null}())})}});const wt=I({});function Ct(){if(!A())throw new Error("Please put useDrawer function in the setup function!");const t=O(null),e=O(!1),n=O("");const o=()=>{const e=S(t);if(!e)throw new Error("instance is undefined!");return e};return[function(o,r){_((()=>{t.value=null,e.value=null,wt[S(n)]=null})),S(e)&&R()&&o===S(t)||(n.value=r,t.value=o,e.value=!0)},{setDrawerProps:t=>{o().setDrawerProps(t)},openDrawer:(t=!0,e,r=!1)=>{if(o().setDrawerProps({visible:t}),!e)return;if(r)return wt[S(n)]=null,void(wt[S(n)]=e);V($(wt[S(n)]),e)||(wt[S(n)]=e)}}]}const Ot=t=>{const e=O(null),n=A(),o=O("");if(!n)throw new Error("useDrawerInner instance is undefined!");const s=()=>{const t=S(e);if(!t)throw new Error("useDrawerInner instance is undefined!");return t};return T((()=>{const e=wt[S(o)];e&&t&&N(t)&&r((()=>{t(e)}))})),[(t,r)=>{_((()=>{e.value=null})),o.value=r,e.value=t,n.emit("register",t)},{changeLoading:(t=!0)=>{s().setDrawerProps({loading:t})},changeOkLoading:(t=!0)=>{s().setDrawerProps({confirmLoading:t})},closeDrawer:()=>{s().setDrawerProps({visible:!1})},setDrawerProps:t=>{s().setDrawerProps(t)}}]},Dt=W(gt);export{Dt as B,mt as D,Ot as a,Ct as u};